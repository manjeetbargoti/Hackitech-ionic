<ion-view>
	<ion-nav-bar class="bar-assertive">
		<ion-nav-buttons side="left">
			<button class="button button-icon button-clear ion-navicon" menu-toggle="left"></button>
		</ion-nav-buttons>

		<ion-nav-buttons side="right">
			<button class="button button-icon button-clear ion-heart "></button>
		</ion-nav-buttons>
	</ion-nav-bar>
	<ion-header-bar class="bar bar-assertive head-bar">
		<div class="title">
			<center>Latest Posts</center>
		</div>
	</ion-header-bar>

	<div class="bar bar-subheader item-input-inset">
		<label class="item-input-inset">
			<i class="icon ion-ios-search placeholder-icon"></i>
			<input type="search" placeholder="Search..." ng-model="searchText" ng-change="searchTextChanged()">
		</label>
	</div>

	<ion-content id="main_back_img" class="has-subheader" delegate-handle="mainScroll">
		<ion-refresher
		  pulling-text="Pull to refresh..."
		  on-refresh="doRefresh()">
		</ion-refresher>

		<ion-list can-swipe="true">
		  <ion-item  ng-href="#/main/postDetail/{{post.id}}" class="item item-thumbnail-left item-text-wrap item-icon-right" ng-repeat="post in recent_posts | filter: {title: searchText}">
			<img ng-src="{{ post.thumbnail }}">
			<h4 style="text-align: justify; font-weight: bold;" ng-bind-html="post.title"></h4>
			<p style="text-align: justify; font-size: 12px;" ng-bind-html="post.excerpt"></p>

			<ion-option-button class="button-dark-pink">
				<i class="icon ion-heart"></i>
			</ion-option-button>
		  </ion-item>
		</ion-list>

		<ion-infinite-scroll ng-if="canLoadMore()"
		    on-infinite="loadMore()">
		</ion-infinite-scroll>
	</ion-content>
</ion-view>